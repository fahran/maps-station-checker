// From http://www.doogal.co.uk/london_stations.php (thanks!)
var stationsCsv = "Abbey Road,51.531951985733,0.0037377856069111\nAbbey Wood,51.49078408041,0.12028637127604\nActon Main Line,51.516886963398,-0.26767554257793\nActon Central,51.508757812012,-0.26341579231596\nActon Town,51.503071476856,-0.2802882961706\nAlbany Park,51.435815590189,0.12645902197803\nAldgate,51.514342387502,-0.075612503707184\nAldgate East,51.515081631079,-0.072987053548915\nAlexandra Palace,51.598262836895,-0.1201345367387\nAll Saints,51.510476925464,-0.012610477634\nAlperton,51.541209310632,-0.2995013414547\nAmersham,51.674129392062,-0.60649933056891\nAnerley,51.412516725364,-0.065122723194277\nAngel,51.532968028132,-0.10556703413728\nAngel Road,51.612420325055,-0.048718479404686\nArchway,51.565490550156,-0.13510715160572\nArnos Grove,51.616230157665,-0.13425577761924\nArsenal,51.558541388156,-0.10548551071377\nBaker Street,51.523129639184,-0.15688978273689\nBalham,51.443182580239,-0.15267077683302\nBank,51.513347072699,-0.088985715325045\nBanstead,51.329293148535,-0.21311798536959\nBarbican,51.520215295016,-0.097707167852645\nBarking,51.539521102884,0.0808460268962\nBarkingside,51.585850602534,0.088491071171579\nBarnehurst,51.464780266606,0.16096241569889\nBarnes,51.467127801887,-0.24201866806989\nBarnes Bridge,51.472228083132,-0.25234822148068\nBarons Court,51.490228707652,-0.21341574380466\nBattersea Park,51.477318340776,-0.14810936441775\nBayswater,51.512111310915,-0.18788716574986\nBeckenham Hill,51.424626059454,-0.016481381251057\nBeckenham Junction,51.410941644002,-0.025687362710869\nBeckton,51.514376621471,0.061539705886513\nBeckton Park,51.508900786453,0.054836346093653\nBecontree,51.539585393148,0.12689470862039\nBellingham,51.433864895434,-0.020397386684838\nBelmont,51.344119948481,-0.19947489773285\nBelsize Park,51.550190897304,-0.1639600723677\nBelvedere,51.491958983909,0.15204819376851\nBermondsey,51.497960787629,-0.064315686265478\nBerrylands,51.398768439892,-0.28030710499701\nBethnal Green,51.527191747482,-0.055377698622437\nBethnal Green Rail,51.524282746211,-0.059999330521283\nBexley,51.440814511828,0.14821829873454\nBexleyheath,51.463549940694,0.13337735793409\nBickley,51.400379563229,0.044318404705676\nBirkbeck,51.403863100681,-0.0562718615037\nBlackfriars,51.511586939902,-0.10298097717171\nBlackheath,51.465408009363,0.0083509882498168\nBlackhorse Road,51.585776631411,-0.039611280026926\nBlackwall,51.507831540895,-0.0072207589795153\nBond Street,51.513797542631,-0.14959920109132\nBorough,51.501048880447,-0.094182918403389\nBoston Manor,51.495765574642,-0.32473278589022\nBounds Green,51.607031935983,-0.12416262739225\nBow Church,51.527615205643,-0.020485486059214\nBow Road,51.527041809222,-0.024345177705763\nBowes Park,51.607249528898,-0.11977778086817\nBrent Cross,51.576599240756,-0.21332141198154\nBrentford,51.487536344613,-0.30960813639036\nBrentwood,51.613610299318,0.29968725631633\nBrimsdown,51.655244617739,-0.03107782337368\nBrixton,51.462736815606,-0.11453770490964\nBrockley,51.464749666688,-0.03773385721419\nBromley North,51.408942308516,0.017249827752461\nBromley South,51.400001286054,0.017373953488859\nBromley-by-Bow,51.52484020109,-0.01166796209473\nBrondesbury,51.545262386773,-0.20282406710345\nBrondesbury Park,51.540325391085,-0.21045952961905\nBroxbourne,51.747015568918,-0.011009600958786\nBruce Grove,51.594011254361,-0.070384555517657\nBuckhurst Hill,51.626576654655,0.046726985755\nBurnt Oak,51.602551943784,-0.26431627556888\nBush Hill Park,51.641481967261,-0.069265963311165\nBushey,51.645544206307,-0.38470709118099\nCaledonian Road,51.547885455043,-0.11834644235876\nCaledonian Road and Barnsbury,51.543284589046,-0.11519043865212\nCambridge Heath,51.532059770708,-0.05718878628523\nCamden Road,51.541851250779,-0.13918869492503\nCamden Town,51.539969369251,-0.14243796405007\nCanada Water,51.498168417556,-0.05079271714472\nCanary Wharf,51.503578406232,-0.019452434600173\nCanning Town,51.513870285695,0.0083200415480822\nCannon Street,51.511362099463,-0.090236118885105\nCanonbury,51.548188396024,-0.092559776199295\nCanons Park,51.607650605221,-0.29437715826231\nCarpenders Park,51.628186764519,-0.38581487914664\nCarshalton,51.368426385593,-0.16638396492825\nCarshalton Beeches,51.357386860957,-0.16948196651609\nCastle Bar Park,51.522973705473,-0.33148966489625\nCaterham,51.282162831704,-0.078592962360211\nCatford,51.44426491475,-0.026524111698793\nCatford Bridge,51.444694627575,-0.024807488912048\nChadwell Heath,51.568046861857,0.12891553745986\nChafford Hundred,51.4855544601,0.28749010037512\nChalfont and Latimer,51.667907547721,-0.56105332039672\nChalk Farm,51.544149104848,-0.15371865256093\nChancery Lane,51.518494029809,-0.11194761724718\nCharing Cross,51.508358644804,-0.12478853109718\nCharlton,51.486834983914,0.030956045084626\nCheam,51.355460268652,-0.21419692461334\nChelsfield,51.35626456871,0.10899847900884\nChesham,51.705380095434,-0.61141518839627\nCheshunt,51.702873317164,-0.023872946724225\nChessington North,51.364243478778,-0.30046176722378\nChessington South,51.356704567744,-0.30707466141954\nChigwell,51.617857862487,0.076193656688014\nChingford,51.63325337195,0.0095287721085566\nChipstead,51.309275002404,-0.16943152489582\nChislehurst,51.40559840083,0.057506196205783\nChiswick,51.480781526773,-0.2669989236265\nChiswick Park,51.494370746332,-0.26772251965492\nChorleywood,51.654265989674,-0.51831947385278\nCity Thameslink,51.513935079961,-0.10360404036727\nClapham Common,51.4618036863,-0.13830051012379\nClapham High Street,51.465469529402,-0.13245010905033\nClapham Junction,51.464366804651,-0.17030060907001\nClapham North,51.464916230409,-0.12989566953588\nClapham South,51.452676506748,-0.1479696801021\nClapton,51.561569094453,-0.057475034590784\nClock House,51.408540565451,-0.040687716905021\nCobham and Stoke D'Abernon,51.31834723919,-0.38902199845314\nCockfosters,51.652024496788,-0.14990225857042\nColindale,51.595230546294,-0.25027310932225\nColliers Wood,51.418759208995,-0.17740072104762\nCoulsdon South,51.315800960535,-0.1378887436247\nCovent Garden,51.512760249622,-0.1244924862088\nCrayford,51.448546734577,0.17851710444575\nCrews Hill,51.684474623566,-0.10682963790553\nCricklewood,51.558422694084,-0.21253351132178\nCrofton Park,51.455179296249,-0.036532191514461\nCrossharbour and London Arena,51.495839980525,-0.014918409980624\nCrouch Hill,51.571327111387,-0.11711885796196\nCroxley,51.647005333911,-0.44158934771671\nCrystal Palace,51.418170359941,-0.072592854062748\nCustom House,51.509622053058,0.025786917726712\nCutty Sark for Maritime Greenwich,51.481944468688,-0.01056746798363\nCyprus,51.508526572883,0.063855162939039\nDagenham Dock,51.526287178504,0.14504542671488\nDagenham East,51.544187318113,0.16584784999223\nDagenham Heathway,51.541211772284,0.14769413756505\nDalston Junction,51.546093724339,-0.07497978585502\nDalston Kingsland,51.548667827094,-0.076212502172009\nDartford,51.447399615703,0.21809793611023\nDebden,51.645491990883,0.083815925291538\nDenmark Hill,51.468200650033,-0.090973475173744\nDeptford,51.478890086282,-0.026181921788286\nDeptford Bridge,51.474476774061,-0.022038032405853\nDevons Road,51.522258469272,-0.017993342742124\nDollis Hill,51.551850619529,-0.23878334100376\nDrayton Green,51.516004715297,-0.32959685045955\nDrayton Park,51.553078319423,-0.10575577858654\nEaling Broadway,51.51486201146,-0.30199597251937\nEaling Common,51.510248690463,-0.28713701041592\nEarls Court,51.491356695274,-0.19429940765557\nEarlsfield,51.442238829835,-0.18725830238926\nEast Acton,51.516263444214,-0.2480978154307\nEast Croydon,51.37571611266,-0.091849130629116\nEast Dulwich,51.461625592168,-0.080422179162408\nEast Finchley,51.587332564437,-0.16472945405368\nEast Ham,51.539246158049,0.051530710126145\nEast India,51.508684006054,-0.0023559243798497\nEast Putney,51.458879808899,-0.21098384278422\nEastcote,51.576551871493,-0.39680887105797\nEden Park,51.390796105685,-0.026655345425249\nEdgware,51.614229655466,-0.27507922607818\nEdgware Road (Bakerloo),51.520645381678,-0.17052514070378\nEdgware Road (Circle/District/Hammersmith and City),51.51999806318,-0.1676538436008\nEdmonton Green,51.625115709648,-0.061624575457523\nElephant and Castle,51.495849394281,-0.10072431173602\nElm Park,51.549124559422,0.19726710182967\nElmers End,51.398291114164,-0.049449459806297\nElmstead Woods,51.417080625514,0.044243721084371\nElstree and Borehamwood,51.652875609998,-0.27981416681958\nEltham,51.455662213853,0.052343698204214\nElverson Road,51.468372191483,-0.016801981736488\nEmbankment,51.507312509276,-0.12235292981979\nEmerson Park,51.569114881318,0.22023736048149\nEnfield Chase,51.652722121848,-0.090689752730328\nEnfield Lock,51.670846125012,-0.02837661157186\nEnfield Town,51.651970081543,-0.079315469569566\nEpping,51.69368615157,0.11384001852178\nEpsom Downs,51.323659467583,-0.23895587775184\nErith,51.481647653094,0.17427568781302\nEssex Road,51.540633322162,-0.096351108662094\nEuston,51.528664346375,-0.13328205840994\nEuston Square,51.528664346375,-0.13328205840994\nEwell East,51.345243905271,-0.24148864560939\nEwell West,51.349991173131,-0.25707477581385\nFairlop,51.59610953153,0.090607714208087\nFalconwood,51.459085786225,0.078524084551238\nFarringdon,51.520195700647,-0.10482865117184\nFeltham,51.44787922275,-0.40981009327567\nFenchurch Street,51.511566715013,-0.078539744740966\nFinchley Central,51.600903273752,-0.19320620063466\nFinchley Road,51.547096220268,-0.18003614128656\nFinchley Road and Frognal,51.550119520279,-0.18363678247277\nFinsbury Park,51.564635458062,-0.10586706135916\nForest Gate,51.54931611531,0.024203511499168\nForest Hill,51.439308318386,-0.053314119078799\nFulham Broadway,51.480260927016,-0.19552976561085\nFulwell,51.433942607741,-0.34942414136408\nGallions Reach,51.509034130657,0.071789801687878\nGants Hill,51.576552943422,0.066098526398209\nGidea Park,51.581865720882,0.20599141081423\nGipsy Hill,51.424469532451,-0.083820786846549\nGloucester Road,51.494499579725,-0.18352915689619\nGolders Green,51.572215556655,-0.19482013198437\nGoldhawk Road,51.502076993967,-0.22738960127533\nGoodge Street,51.520613125487,-0.13479327927061\nGoodmayes,51.566180968146,0.11174407958328\nGordon Hill,51.663502248565,-0.09445884360504\nGospel Oak,51.555405311264,-0.15128661069808\nGrange Hill,51.613480413753,0.092286969949084\nGrange Park,51.642623088692,-0.09729997426098\nGreat Portland Street,51.52378881305,-0.14394701338886\nGreen Park,51.506760501463,-0.14246316907526\nGreenford,51.541980112836,-0.34586432267848\nGreenwich,51.477547665535,-0.014848686252722\nGrove Park,51.430432640396,0.022612884710894\nGunnersbury,51.491863444709,-0.27514973411264\nHackbridge,51.377860917901,-0.15386483218978\nHackney Central,51.547257451286,-0.055575092639468\nHackney Downs,51.549078092042,-0.060170685150219\nHackney Wick,51.543558409072,-0.025245084630728\nHadley Wood,51.668402892286,-0.17656673195017\nHaggerston,51.538684738939,-0.075580841462924\nHainault,51.602845314928,0.094122987217226\nHammersmith (District),51.491819802914,-0.22284652701972\nHammersmith (Met.),51.493483379174,-0.22462575515926\nHampstead,51.556542616677,-0.17800013773286\nHampstead Heath,51.555199944256,-0.16455176144825\nHampton,51.415879597557,-0.37212087604547\nHampton Court,51.40229391894,-0.34274277866957\nHampton Wick,51.414640080192,-0.31308923226487\nHanger Lane,51.530072069094,-0.29298173181915\nHanwell,51.512185998837,-0.33803747641273\nHarlesden,51.536258358843,-0.25748125850322\nHarold Wood,51.593202188506,0.2342185071783\nHarringay,51.577357921799,-0.10519382370901\nHarringay Green Lanes,51.57714590447,-0.098202962998489\nHarrow and Wealdstone,51.592594673236,-0.33423825163137\nHarrow-on-the-Hill,51.579388159582,-0.33698708805734\nHatch End,51.609828548789,-0.36916434211502\nHatton Cross,51.466685355642,-0.42336616986103\nHaydons Road,51.425457340854,-0.18891497843117\nHayes,51.37573670506,0.010157017878448\nHayes and Harlington,51.50304912563,-0.42062749859031\nHeadstone Lane,51.602499669538,-0.35689307782418\nHeathrow Terminal 4,51.45978048411,-0.44771519861354\nHeathrow Terminal 5,51.470025485584,-0.49063310869077\nHeathrow Terminals 1 2 3,51.47128945567,-0.45239283063262\nHendon,51.580075012022,-0.23861609099829\nHendon Central,51.583133074092,-0.2267197095034\nHerne Hill,51.453991381788,-0.10254851838021\nHeron Quays,51.503386571015,-0.021939126563571\nHigh Barnet,51.651688276705,-0.19415092780429\nHigh Street Kensington,51.500729468384,-0.19155165303998\nHighams Park,51.608355993014,-0.00012084723573169\nHighbury and Islington,51.546495518926,-0.10406772078143\nHighgate,51.57764663481,-0.14692043327249\nHillingdon,51.55377757066,-0.44988357245777\nHither Green,51.452401721767,-0.00095652287067613\nHolborn,51.517235749261,-0.11982609759457\nHolland Park,51.507146508744,-0.20654337129402\nHolloway Road,51.55281611672,-0.11292127587712\nHomerton,51.546595450822,-0.038497927971748\nHonor Oak Park,51.450648245652,-0.044138732242293\nHornchurch,51.554355082156,0.21894141805997\nHornsey,51.586474864733,-0.11180120639571\nHounslow,51.46250486146,-0.36178186366717\nHounslow Central,51.470925810282,-0.36594373417825\nHounslow East,51.473707937461,-0.35526092596841\nHounslow West,51.473105762632,-0.38569323300198\nHoxton,51.531391621283,-0.075571232880956\nHyde Park Corner,51.502584030904,-0.15245970877887\nIckenham,51.560825107127,-0.44156508942605\nIlford,51.559142232556,0.06869961398625\nImperial Wharf,51.474938948929,-0.18282310826897\nIsland Gardens,51.487950088882,-0.010478902499309\nIsleworth,51.475037464523,-0.33731436875817\nKenley,51.324600324285,-0.10120536334161\nKennington,51.488662470707,-0.10505621257104\nKensal Green,51.530524241234,-0.22469897011847\nKensal Rise,51.53421509119,-0.22080656353585\nKensington (Olympia),51.497879724483,-0.21036483866639\nKent House,51.412717664303,-0.045801176185629\nKentish Town,51.550009538423,-0.14045684366827\nKentish Town West,51.546547987029,-0.14674199079293\nKenton,51.581496322037,-0.31520243664979\nKew Bridge,51.49000465091,-0.28883209363752\nKew Gardens,51.476789170755,-0.28536661446493\nKidbrooke,51.462690183933,0.028314631821257\nKilburn,51.546944459981,-0.20461829997264\nKilburn High Road,51.537267764059,-0.19109868962017\nKilburn Park,51.535135560206,-0.19395164168612\nKing George V,51.502008599189,0.062220618931645\nKing's Cross,51.53079820546,-0.12274200728123\nKings Cross St. Pancras,51.530312476892,-0.12385771561154\nKingsbury,51.584876550714,-0.27858717715014\nKingston,51.412641800653,-0.30112666341862\nKingswood,51.29472316433,-0.21121888607947\nKnightsbridge,51.501354916808,-0.16065008131194\nKnockholt,51.345751922698,0.13084539482109\nLadbroke Grove,51.517210698742,-0.21018376269161\nLadywell,51.45619213691,-0.019230010500554\nLambeth North,51.499129959063,-0.11175385704735\nLancaster Gate,51.511890964101,-0.17541552045722\nLangdon Park,51.518883939693,-0.015199388573999\nLatimer Road,51.513958124663,-0.21744525733064\nLee,51.449458517716,0.013379080898623\nLeicester Square,51.511291196842,-0.12822773962177\nLewisham,51.464880714235,-0.012418307529155\nLeyton,51.55813227051,-0.0064509088011814\nLeyton Midland Road,51.569364239801,-0.0080519210997184\nLeytonstone,51.568522287449,0.009154878018083\nLeytonstone High Road,51.563807342647,0.0082688934065806\nLimehouse,51.512312167848,-0.039365669438682\nLiverpool Street,51.517598273919,-0.082235212309326\nLondon Bridge,51.504674357597,-0.085991192281661\nLondon City Airport,51.50368965775,0.047887121033287\nLondon Fields,51.540718847663,-0.057685269137809\nLoughborough Junction,51.46667891193,-0.10248294761392\nLoughton,51.641570470369,0.055293528321119\nLower Sydenham,51.424846846074,-0.033315960742811\nMaida Vale,51.529995078969,-0.18541823310956\nMalden Manor,51.384609567544,-0.26110604834896\nManor House,51.570747151453,-0.095670549505162\nManor Park,51.552854343905,0.045738291167029\nMansion House,51.512091761163,-0.094183249527509\nMarble Arch,51.513965510738,-0.15855680746603\nMaryland,51.545668269809,0.0056960730233714\nMarylebone,51.522396687994,-0.16347815242029\nMaze Hill,51.483013655604,0.0032192958995991\nMile End,51.525310973905,-0.032651671918221\nMill Hill Broadway,51.612871158046,-0.24952262850911\nMill Hill East,51.608316669912,-0.20988127429344\nMitcham Eastfields,51.408383928225,-0.15398734320935\nMitcham Junction,51.39304258672,-0.15742227287945\nMonument,51.510630425959,-0.086173905918798\nMoor Park,51.629930718133,-0.4328985822977\nMoorgate,51.518437149414,-0.08900327764505\nMorden,51.402185984981,-0.19483760810466\nMorden South,51.396307721608,-0.20028719027858\nMornington Crescent,51.534362233874,-0.1387299346061\nMortlake,51.468167968359,-0.26718891965297\nMotspur Park,51.395319655441,-0.23942537454861\nMottingham,51.439824969906,0.050338587672779\nMudchute,51.491236186648,-0.014945543221677\nNeasden,51.554627747213,-0.25010062378951\nNew Barnet,51.648536790554,-0.17295526264108\nNew Beckenham,51.41670555246,-0.035290571074268\nNew Cross,51.476429418617,-0.032264414494673\nNew Cross Gate,51.475264932486,-0.039514655295107\nNew Eltham,51.437690651019,0.070459003212279\nNew Malden,51.403555937615,-0.25620373217155\nNew Southgate,51.614093683634,-0.14299533557942\nNewbury Park,51.575638344309,0.090317586010402\nNorbiton,51.411909385349,-0.28418557131983\nNorbury,51.411188517406,-0.12278502535626\nNorth Acton,51.523432458806,-0.25971511616691\nNorth Dulwich,51.454481818931,-0.087904290624922\nNorth Ealing,51.517622323819,-0.28897914280262\nNorth Greenwich,51.500255151591,0.0036006636371896\nNorth Harrow,51.584631342978,-0.3626185623764\nNorth Sheen,51.465419645874,-0.28638307337002\nNorth Wembley,51.562396328364,-0.30393379535805\nNorthfields,51.500491708619,-0.31505041439224\nNortholt,51.548212945697,-0.36842617615208\nNortholt Park,51.557619094925,-0.35941977403748\nNorthwick Park,51.5785087266,-0.31818496289702\nNorthwood,51.611213662308,-0.42382334746562\nNorthwood Hills,51.600802695129,-0.40929692189409\nNorwood Junction,51.396954330829,-0.075195484483074\nNotting Hill Gate,51.509375359878,-0.1959072111467\nNunhead,51.466579990247,-0.053665348737765\nOakleigh Park,51.637676382963,-0.16618051866214\nOakwood,51.64763797617,-0.1318390886991\nOckendon,51.521989609028,0.29049788622813\nOld Street,51.525581481862,-0.087608545343845\nOrpington,51.373520035814,0.089043266168332\nOsterley,51.481216852781,-0.3520816978192\nOval,51.481412613811,-0.11330667730935\nOxford Circus,51.515223419245,-0.14082176208955\nPaddington,51.515393806532,-0.17572234283505\nPalmers Green,51.618786761028,-0.11025805805573\nPark Royal,51.526834054645,-0.28491450496891\nParsons Green,51.474960176772,-0.20111009589714\nPeckham Rye,51.469511372801,-0.069969158361951\nPenge East,51.41997535513,-0.054480885538245\nPenge West,51.418062935027,-0.060631385884983\nPerivale,51.536341860358,-0.32305600630537\nPetts Wood,51.388598981243,0.074494399194959\nPiccadilly Circus,51.509696764476,-0.13369718974012\nPimlico,51.489552877924,-0.1330938573102\nPinner,51.592361724428,-0.38120935690424\nPlaistow,51.531288332324,0.017795056275962\nPlumstead,51.489792413595,0.084314017745385\nPonders End,51.642730695,-0.034510654933282\nPontoon Dock,51.502216211037,0.033340112607835\nPoplar,51.507588072081,-0.017261086484836\nPreston Road,51.572103763883,-0.29495758553154\nPrince Regent,51.509434545079,0.033502981448267\nPudding Mill Lane,51.53432785535,-0.012754096692901\nPurfleet,51.481172976438,0.23678923416561\nPurley,51.337363567516,-0.11359916443804\nPurley Oaks,51.346989351539,-0.098800976652713\nPutney,51.460952556568,-0.21658898147399\nPutney Bridge,51.467865362703,-0.20935102262327\nQueens Park,51.534312675201,-0.20478373421795\nQueens Road Peckham,51.474284715779,-0.057340582526957\nQueensbury,51.593883010111,-0.28631716346916\nQueenstown Road,51.47495914471,-0.14734091559888\nQueensway,51.510449255439,-0.18740549543317\nRadlett,51.685413310275,-0.31797317069656\nRainham,51.517340491331,0.19070638530502\nRavensbourne,51.413870378956,-0.0069234381730423\nRavenscourt Park,51.494068008984,-0.23595483065011\nRayners Lane,51.575396777398,-0.371046385824\nRaynes Park,51.409375373186,-0.22989856350727\nRectory Road,51.558763484573,-0.068371241749211\nRedbridge,51.576366911264,0.045408472505876\nReedham,51.331441727656,-0.12338827286968\nRegents Park,51.52381069054,-0.14532999904559\nRichmond,51.463232922347,-0.30172474133933\nRickmansworth,51.640323072212,-0.47367013575456\nRiddlesdown,51.332674842588,-0.099479315537562\nRoding Valley,51.616956440142,0.044040648415103\nRomford,51.574641568849,0.18306970022131\nRotherhithe,51.501594510808,-0.052951891484305\nRoyal Albert,51.508493863562,0.045191552169371\nRoyal Oak,51.518294375269,-0.18880926348942\nRoyal Victoria,51.509055232332,0.017979819853408\nRuislip,51.57216197222,-0.42122049909957\nRuislip Gardens,51.559960227907,-0.40927968814014\nRuislip Manor,51.573451624726,-0.41283492710738\nRussell Square,51.523013052867,-0.12457578611157\nSanderstead,51.34824626461,-0.093694143249397\nSelhurst,51.39218578041,-0.089884666539009\nSeven Kings,51.563993339397,0.096333999350604\nSeven Sisters,51.583362168372,-0.0724523920649\nShadwell,51.51130016173,-0.056904799137598\nShenfield,51.630873056088,0.32996670993987\nShepherds Bush,51.50453217729,-0.21850475368199\nShepherds Bush Market,51.505880735504,-0.22738608723774\nShoreditch High Street,51.523466827911,-0.077073012851082\nShortlands,51.40560236593,0.0027819191560382\nSidcup,51.43439844437,0.10332974285774\nSilver Street,51.615242486372,-0.072575300701906\nSlade Green,51.467747631244,0.19053278174752\nSloane Square,51.492359782932,-0.1564744555002\nSmitham,51.322452969178,-0.13433270854947\nSnaresbrook,51.580891270601,0.021478357761873\nSouth Acton,51.499685861011,-0.27020080333496\nSouth Bermondsey,51.487676621549,-0.054740420692279\nSouth Croydon,51.362750208796,-0.092503001948904\nSouth Ealing,51.501644057917,-0.30702584019952\nSouth Hampstead,51.541476868984,-0.1783567825076\nSouth Harrow,51.564680211138,-0.35187954635816\nSouth Kensington,51.494071386411,-0.17390862058942\nSouth Kenton,51.571044486824,-0.30812855062663\nSouth Merton,51.403240579864,-0.20553592740103\nSouth Quay,51.500863608239,-0.018446287979256\nSouth Ruislip,51.55689035096,-0.39910148824501\nSouth Tottenham,51.580402594532,-0.071841526783666\nSouth Wimbledon,51.41536073293,-0.19196016848772\nSouth Woodford,51.591552612383,0.027957511681624\nSouthall,51.505956957579,-0.37869678379695\nSouthbury,51.648433731335,-0.052968859157203\nSouthfields,51.444883338258,-0.20659499856664\nSouthgate,51.63237586338,-0.12775560097809\nSouthwark,51.503853632869,-0.10578053394541\nSt Helier,51.389912187517,-0.19900022218424\nSt James Street,51.580608667586,-0.032790131848525\nSt Johns,51.468975297065,-0.023226267171585\nSt Margarets,51.455206030249,-0.32130985776381\nSt Mary Cray,51.394759394244,0.10723227089692\nSt Pancras,51.530554416571,-0.12549136793246\nSt. James's Park,51.499609810342,-0.13386435110426\nSt. Johns Wood,51.534854431713,-0.17405042505482\nSt. Pauls,51.51483530739,-0.097556591574387\nStamford Brook,51.494449997347,-0.24523190696758\nStamford Hill,51.574447612615,-0.076653913978365\nStanmore,51.6196734807,-0.30308485086488\nStar Lane,51.520604250081,0.0042054135552674\nStepney Green,51.521995838874,-0.047368111957746\nStockwell,51.472159270341,-0.12283190859196\nStoke Newington,51.564637618307,-0.072320969849242\nStonebridge Park,51.54398658738,-0.27538602336732\nStoneleigh,51.363364082259,-0.248695295654\nStratford,51.541692579295,-0.0037372234417709\nStratford High Street,51.538148951165,-0.001065939537146\nStratford International,51.54480853536,-0.0087640154463654\nStrawberry Hill,51.439747873261,-0.33960334587097\nStreatham,51.425845878375,-0.13231111566835\nStreatham Common,51.418984686908,-0.13571178617484\nStreatham Hill,51.438460380547,-0.1276670964405\nSudbury and Harrow Road,51.554493821699,-0.31591182033013\nSudbury Hill,51.557339600086,-0.33637769283987\nSudbury Hill Harrow,51.558342313079,-0.33543227050831\nSudbury Town,51.551397480891,-0.31632906529511\nSundridge Park,51.413393796204,0.020379486210958\nSurbiton,51.392599569913,-0.3043701893312\nSurrey Quays,51.493266862158,-0.047515585346921\nSutton,51.359506158142,-0.19128765090448\nSutton Common,51.375554718505,-0.19690554710689\nSwiss Cottage,51.543034867714,-0.17561218648329\nSydenham,51.427341258001,-0.055074289357489\nSydenham Hill,51.432575896828,-0.080215824663043\nSyon Lane,51.481474727333,-0.32648063620347\nTadworth,51.291627892489,-0.23599367683683\nTattenham Corner,51.309181339608,-0.24255192829864\nTeddington,51.424497537357,-0.3326909565597\nTemple,51.51104062071,-0.11371134239066\nThames Ditton,51.388616113023,-0.33827846842909\nTheobalds Grove,51.692372592735,-0.034733669022743\nTheydon Bois,51.672552069981,0.10290519530392\nThornton Heath,51.398481089859,-0.10041879260042\nTolworth,51.376843349784,-0.27960574939507\nTooting,51.419896651766,-0.16098809293112\nTooting Bec,51.435838083172,-0.15968610811001\nTooting Broadway,51.42704916499,-0.16867014599257\nTottenham Court Road,51.51621088565,-0.13109602942553\nTottenham Hale,51.587997785049,-0.060173390466137\nTotteridge and Whetstone,51.63024674119,-0.17933981753571\nTower Gateway,51.510392650922,-0.074395469530797\nTower Hill,51.510394282129,-0.076686790760475\nTufnell Park,51.556440814333,-0.13772775294192\nTulse Hill,51.4397974399,-0.10510812362275\nTurkey Street,51.672653666247,-0.047215472250329\nTurnham Green,51.495181971972,-0.25451016527384\nTurnpike Lane,51.590358146027,-0.1027906082273\nTwickenham,51.450250987135,-0.32884583782433\nUpminster,51.558763325208,0.2514152239117\nUpminster Bridge,51.557718771685,0.23455631120919\nUpney,51.538405634701,0.10154616057314\nUpper Holloway,51.563623319983,-0.12909493917319\nUpper Warlingham,51.308772263619,-0.077467317417935\nUpton Park,51.536628195871,0.034556255633226\nUxbridge,51.546454564696,-0.47708714109832\nVauxhall,51.485735816391,-0.12381555294752\nVictoria,51.496423969876,-0.14390630306143\nWaddon,51.367379270921,-0.11737971383443\nWallington,51.360331562347,-0.15084947457103\nWaltham Cross,51.685257259065,-0.026549794125904\nWalthamstow Central,51.583018115291,-0.019926114372123\nWalthamstow Queens Road,51.581546193899,-0.0238295131434\nWandsworth Common,51.446365623898,-0.16352259346247\nWandsworth Road,51.470223218762,-0.13902328072857\nWandsworth Town,51.461034098277,-0.18789564563536\nWanstead,51.574902145755,0.028774900468403\nWanstead Park,51.551778074703,0.026404363778733\nWapping,51.504340322706,-0.055846408737992\nWarren Street,51.524580005085,-0.13826391949985\nWarwick Avenue,51.523104457076,-0.18293888140664\nWaterloo,51.503146653078,-0.11324484659974\nWatford,51.657605146891,-0.41725555293253\nWatford High Street,51.652653752213,-0.39168227690127\nWatford Junction,51.663883061474,-0.39615750118974\nWelling,51.464777075182,0.10178943179171\nWembley Central,51.551864816194,-0.29637790641578\nWembley Park,51.563322491915,-0.27922812839087\nWembley Stadium,51.554654605186,-0.28603202522583\nWest Acton,51.517770184208,-0.28064276561988\nWest Brompton,51.487328938205,-0.19552441152812\nWest Croydon,51.378552186111,-0.1020199266263\nWest Drayton,51.510071275994,-0.47216168972777\nWest Dulwich,51.440911831895,-0.090658290563767\nWest Ealing,51.513625243955,-0.31976854613702\nWest Finchley,51.609262750488,-0.1889026706526\nWest Ham,51.52852551818,0.0053318072586749\nWest Hampstead,51.547474356007,-0.19111216622603\nWest Hampstead Thameslink,51.548629145744,-0.19252310000093\nWest Harrow,51.578924280955,-0.35383226807134\nWest India Quay,51.506762659668,-0.020568040587805\nWest Kensington,51.490109387233,-0.20618929345907\nWest Norwood,51.431241127782,-0.10317475212492\nWest Ruislip,51.569587924657,-0.43784571956141\nWest Silvertown,51.502884431544,0.022260451989289\nWest Sutton,51.366150159758,-0.20463018612991\nWest Wickham,51.381284202527,-0.014561963270977\nWestbourne Park,51.520988865484,-0.20086810419124\nWestcombe Park,51.484508893293,0.017760099794534\nWestferry,51.509638150617,-0.026308729670621\nWestminster,51.501401606172,-0.12498767440679\nWhite City,51.512232464701,-0.22461752326457\nWhite Hart Lane,51.605034779059,-0.07085588920127\nWhitechapel,51.519587792346,-0.059406074587337\nWhitton,51.449588234079,-0.35766767257282\nWhyteleafe,51.309929327757,-0.081120820529126\nWhyteleafe South,51.30348981231,-0.076698171894698\nWillesden Green,51.549373313232,-0.22239318421442\nWillesden Junction,51.532233992929,-0.2438947288224\nWimbledon,51.421107869794,-0.20664845638008\nWimbledon Chase,51.409530957999,-0.21407539384331\nWimbledon Park,51.434580976538,-0.19917189150183\nWinchmore Hill,51.633886871044,-0.10090248655044\nWood Green,51.597453741251,-0.10951215426353\nWood Lane,51.509658221839,-0.2244582012666\nWood Street,51.586669943719,-0.0019394662016431\nWoodford,51.607201839663,0.034070640659794\nWoodgrange Park,51.549052529247,0.044586916011772\nWoodmansterne,51.319018597795,-0.154247780889\nWoodside Park,51.617868422141,-0.185411063095\nWoolwich Arsenal,51.489907107526,0.069208307647642\nWoolwich Dockyard,51.491107787563,0.054626749936269\nWorcester Park,51.381104516868,-0.24556092484593";
var stations = [];
stationsCsv.split('\n').forEach(function(csvLine, i) {
    var csvCols = csvLine.split(',');
    stations.push({
        name: csvCols[0],
        lat: csvCols[1],
        lon: csvCols[2]
    });
});

var results = [];
var nextIndex = 0;

var searchBox = document.getElementById("searchboxinput");
var searchButton = document.querySelector("#searchbox > .searchbutton")

function searchForStation(station) {
    searchBox.focus();
    searchBox.value = station.name + " station";
    searchBox.blur();
    setTimeout(function() {
        searchButton.click();
        scheduleGatherResults();
    }, 0);
}

function scheduleGatherResults() {
    setTimeout(function() {
        var result = {
            name: stations[nextIndex-1].name,
            url: location.href
        };
        results.push(result);
        console.log(result.name + " => " + result.url);
        if (nextIndex < stations.length)
            searchForStation(stations[nextIndex++]);
    }, 2000);
}

// Start the search (initially, there is no result to gather).
setTimeout(function() {
    searchForStation(stations[nextIndex++]);
}, 2000);

// TODO: Analyse |results|.